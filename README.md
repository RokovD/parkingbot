# ParkingBot

ParkingBot — это Telegram-бот, который помогает жителям парковок обмениваться контактами и координировать выезд автомобилей. Бот хранит данные о владельцах машин, позволяет искать контакт по номеру автомобиля и уточнять ожидаемое время выезда.

## Возможности
- Регистрация пользователей с подтверждением согласия на обработку данных.
- Сбор и хранение имени, номера телефона, номера автомобиля и отношения к подпиранию.
- Поиск контактной информации по текстовому вводу номера автомобиля или по фотографии, распознанной через OCR.
- Указание и обновление ожидаемого времени выезда для быстрого взаимодействия с соседями.
- Удаление персональных данных по запросу пользователя.

## Технологии
- [Aiogram 3](https://docs.aiogram.dev) для реализации Telegram-бота.
- SQLite в качестве локальной базы данных для хранения данных пользователей.
- [pytesseract](https://github.com/madmaze/pytesseract) и Pillow для распознавания автомобильных номеров по фотографии.
- `python-dotenv` для загрузки токена бота из переменных окружения.

## Установка и запуск
1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Создайте файл `.env` в корне проекта и добавьте в него токен Telegram-бота:
   ```env
   API_TOKEN=ваш_токен
   ```
3. Запустите бота:
   ```bash
   python main.py
   ```

При первом запуске приложение автоматически создаст файл `parking_bot.db` с таблицей пользователей.

## Структура базы данных
Таблица `users` содержит поля:
- `username` — имя пользователя, указанное при регистрации.
- `telegram_nickname` — Telegram-никнейм (используется как уникальный идентификатор).
- `phone` — номер телефона для связи.
- `car_number` — номер автомобиля.
- `stance_on_blocking` — отношение владельца к подпиранию.
- `departure_time` — указанное время выезда.
- `departure_timestamp` — момент последнего обновления времени выезда.

## Дополнительная документация
- [Руководство пользователя](docs/usage.md)
- [Технический обзор и идеи улучшений](docs/improvement-ideas.md)
